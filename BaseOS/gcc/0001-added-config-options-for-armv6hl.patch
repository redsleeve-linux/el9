From ebe0e4f695787bde5dcd5826fdc5008aacc1a9c3 Mon Sep 17 00:00:00 2001
From: Jacco Ligthart <jacco@redsleeve.org>
Date: Fri, 24 Nov 2023 16:27:35 +0100
Subject: [PATCH] added config options for armv6hl

---
 SPECS/gcc.spec | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/SPECS/gcc.spec b/SPECS/gcc.spec
index 90466c6..5c46574 100644
--- a/SPECS/gcc.spec
+++ b/SPECS/gcc.spec
@@ -128,7 +128,7 @@
 Summary:              Various compilers (C, C++, Objective-C, ...)
 Name:                 gcc
 Version:              %{gcc_version}
-Release:              %{gcc_release}.1%{?dist}
+Release:              %{gcc_release}.1%{?dist}.redsleeve
 # libgcc, libgfortran, libgomp, libstdc++ and crtstuff have
 # GCC Runtime Exception.
 License:              GPLv3+ and GPLv3+ with exceptions and GPLv2+ with exceptions and LGPLv2+ and BSD
@@ -1194,6 +1194,9 @@ CONFIGURE_OPTS_NATIVE="\
 	--with-tune=generic-armv7-a --with-arch=armv7-a \
 	--with-float=hard --with-fpu=vfpv3-d16 --with-abi=aapcs-linux \
 %endif
+%ifarch armv6hl
+	--with-arch=armv6 --with-float=hard --with-fpu=vfp \
+%endif
 %ifarch mips mipsel
 	--with-arch=mips32r2 --with-fp-32=xx \
 %endif
@@ -3584,6 +3587,9 @@ end
 %endif
 
 %changelog
+* Fri Nov 24 2023 Jacco Ligthart <jacco@redsleeve.org> 11.4.1-2.1.redsleeve
+- added config options for armv6hl
+
 * Fri Jun  9 2023 Marek Polacek <polacek@redhat.com> 11.4.1-2.1
 - fix ICE on pr96024.f90 on big-endian hosts (PR fortran/96024, #2213211)
 - use -fno-stack-protector to fix bit-field aarch64 tests (#2213221)
-- 
2.39.3

