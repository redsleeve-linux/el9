From faf449e8176b05f281d69ce013d9aedf3a22eb21 Mon Sep 17 00:00:00 2001
From: Jan Macku <jamacku@redhat.com>
Date: Fri, 3 Jan 2025 09:33:26 +0100
Subject: [PATCH] udev/net_id: introduce naming scheme for RHEL-9.6

rhel-only: policy

Resolves: RHEL-25515
---
 man/systemd.net-naming-scheme.xml | 6 ++++++
 src/shared/netif-naming-scheme.c  | 1 +
 src/shared/netif-naming-scheme.h  | 1 +
 3 files changed, 8 insertions(+)

diff --git a/man/systemd.net-naming-scheme.xml b/man/systemd.net-naming-scheme.xml
index 83293e5636..f2077ed02d 100644
--- a/man/systemd.net-naming-scheme.xml
+++ b/man/systemd.net-naming-scheme.xml
@@ -513,6 +513,12 @@
           </listitem>
         </varlistentry>
 
+        <varlistentry>
+           <term><constant>rhel-9.6</constant></term>
+
+           <listitem><para>Same as naming scheme <constant>rhel-9.5</constant>.</para></listitem>
+        </varlistentry>
+
       </variablelist>
 
     <para>By default <constant>rhel-9.0</constant> is used.</para>
diff --git a/src/shared/netif-naming-scheme.c b/src/shared/netif-naming-scheme.c
index 9f0c783300..360a603581 100644
--- a/src/shared/netif-naming-scheme.c
+++ b/src/shared/netif-naming-scheme.c
@@ -45,6 +45,7 @@ static const NamingScheme naming_schemes[] = {
         { "rhel-9.3", NAMING_RHEL_9_3 },
         { "rhel-9.4", NAMING_RHEL_9_4 },
         { "rhel-9.5", NAMING_RHEL_9_5 },
+        { "rhel-9.6", NAMING_RHEL_9_6 },
         /* … add more schemes here, as the logic to name devices is updated … */
 
         EXTRA_NET_NAMING_MAP
diff --git a/src/shared/netif-naming-scheme.h b/src/shared/netif-naming-scheme.h
index 5bc071f8db..c533d0f37f 100644
--- a/src/shared/netif-naming-scheme.h
+++ b/src/shared/netif-naming-scheme.h
@@ -74,6 +74,7 @@ typedef enum NamingSchemeFlags {
         NAMING_RHEL_9_3 = NAMING_RHEL_9_0 | NAMING_SR_IOV_R,
         NAMING_RHEL_9_4 = NAMING_RHEL_9_3,
         NAMING_RHEL_9_5 = NAMING_RHEL_9_4 & ~NAMING_BRIDGE_MULTIFUNCTION_SLOT,
+        NAMING_RHEL_9_6 = NAMING_RHEL_9_5,
 
         EXTRA_NET_NAMING_SCHEMES
 
